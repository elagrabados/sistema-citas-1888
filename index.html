<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Citas v5.1 - 1888hoteles</title>
    <style>
        body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;background-color:#f4f7f9;color:#333;line-height:1.6;margin:0;padding:20px}
        .container{max-width:950px;margin:0 auto;background-color:#fff;padding:25px 40px;border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,.08)}
        .logo{display:block;margin:0 auto 20px;max-width:250px;height:auto}
        h1,h2,h3{color:#1a3b5d;text-align:center}
        h3{margin-top:30px;border-bottom:2px solid #eee;padding-bottom:10px}
        .subtitle{text-align:center;color:#888;margin-top:0;margin-bottom:30px;font-style:italic}
        
        /* Grid mejorado */
        .form-grid{display:grid;grid-template-columns:repeat(12, 1fr);gap:15px}
        .col-3{grid-column: span 3} .col-4{grid-column: span 4} .col-6{grid-column: span 6} .col-8{grid-column: span 8} .col-12{grid-column: span 12}
        
        .form-group{display:flex;flex-direction:column}
        label{font-weight:600;margin-bottom:5px;color:#555;font-size:0.9rem}
        input,select,textarea{width:100%;padding:10px;border:1px solid #ccc;border-radius:6px;font-size:1rem}
        textarea{resize:vertical;min-height:100px}
        
        .main-button{background-color:#007bff;color:#fff;padding:15px;border:none;border-radius:8px;font-weight:700;font-size:1.2rem;width:100%;cursor:pointer;margin-top:20px}
        .main-button:hover{background-color:#0056b3}
        
        .sheets-button{background-color:#107c41;color:#fff;padding:12px;border:none;border-radius:6px;font-weight:700;width:100%;cursor:pointer;margin-bottom:15px;display:flex;align-items:center;justify-content:center;gap:10px}
        .sheets-button:hover{background-color:#0b5c30}
        
        .output-container{margin-top:30px;padding-top:20px;border-top:2px solid #eee}
        .output-box{position:relative;margin-bottom:15px}
        .copy-button{position:absolute;top:30px;right:10px;background-color:#28a745;color:#fff;border:none;padding:5px 10px;border-radius:4px;cursor:pointer}
        .hidden{display:none}

        /* Estilos Tabla Historial */
        .history-section {margin-top:40px; border-top:2px solid #ddd; padding-top:20px;}
        .history-header {display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;}
        .clear-btn {background-color:#dc3545; color:white; border:none; padding:8px 12px; border-radius:4px; cursor:pointer;}
        table {width:100%; border-collapse:collapse; font-size:0.9rem;}
        th, td {border:1px solid #ddd; padding:10px; text-align:left;}
        th {background-color:#f2f2f2;}
        .regenerate-btn {background-color:#17a2b8; color:white; border:none; padding:5px 10px; border-radius:4px; cursor:pointer;}
        .regenerate-btn:hover {background-color:#138496;}

        /* Ajustes Mobile */
        @media (max-width:700px){
            .col-3,.col-4,.col-6,.col-8{grid-column: span 12}
            table, thead, tbody, th, td, tr {display:block;}
            thead tr {position:absolute; top:-9999px; left:-9999px;}
            tr {margin-bottom:15px; border:1px solid #ccc;}
            td {border:none; border-bottom:1px solid #eee; position:relative; padding-left:50%;}
            td:before {position:absolute; top:10px; left:10px; width:45%; padding-right:10px; white-space:nowrap; font-weight:bold; content: attr(data-label);}
        }
    </style>
</head>
<body>
    <div class="container">
        <img src="images/logo.png" alt="Logo 1888hoteles" class="logo">
        <h1>Sistema de Citas y Lead Management</h1>
        <p class="subtitle">Desarrollado por Ali Gomez</p>
        
        <form id="citaForm">
             <div class="form-grid">
                <div class="form-group col-4">
                    <label>A. Fuente de Lead</label>
                    <select id="fuenteLead" required>
                        <option value="IG">Instagram (IG)</option>
                        <option value="FB">Facebook (FB)</option>
                        <option value="REF">Referido (REF)</option>
                        <option value="OTRO">Otro</option>
                    </select>
                </div>
                <div class="form-group col-8">
                    <label>B. Agente a Cargo</label>
                    <select id="agente" required>
                        <option value="Paula González">Paula González</option>
                        <option value="Patricia Bustos">Patricia Bustos</option>
                        <option value="Ana Chacon">Ana Chacon</option>
                        <option value="Andrea Venegas">Andrea Venegas</option>
                    </select>
                </div>

                <div class="form-group col-8">
                    <label>K. Nombre Invitado Principal</label>
                    <input type="text" id="invitado1" placeholder="Nombre completo" required>
                </div>
                <div class="form-group col-4">
                    <label>L. Edad</label>
                    <input type="number" id="edad1" placeholder="Ej: 35">
                </div>

                <div class="form-group col-4">
                    <label>Tipo Invitación (Q)</label>
                    <select id="tipoInvitacion" required>
                        <option value="pareja">Pareja</option>
                        <option value="soltera">Mujer Soltera</option>
                    </select>
                </div>
                <div class="form-group col-6 invitado2-field">
                    <label>M. Nombre Invitado 2</label>
                    <input type="text" id="invitado2" placeholder="Nombre Pareja">
                </div>
                <div class="form-group col-2 invitado2-field">
                    <label>N. Edad</label>
                    <input type="number" id="edad2" placeholder="Edad">
                </div>

                <div class="form-group col-6">
                    <label>O. Teléfono</label>
                    <input type="tel" id="telefonoCliente" required>
                </div>
                <div class="form-group col-6">
                    <label>P. Email (Opcional)</label>
                    <input type="email" id="emailCliente
